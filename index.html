<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Operations Monitor</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind Config for Custom Colors -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gray: {
                            750: '#2d3748',
                            850: '#1a202c',
                            950: '#0d1117',
                        },
                        plant: {
                            green: '#10b981',
                            orange: '#f59e0b',
                            blue: '#3b82f6',
                            dark: '#111827'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937; 
        }
        ::-webkit-scrollbar-thumb {
            background: #4b5563; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280; 
        }

        /* Gauge Animation */
        .gauge-path {
            transition: stroke-dashoffset 1.5s ease-out;
        }
    </style>
</head>
<body class="bg-gray-950 text-gray-100 antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Icons Components (Inlined for stability) ---
        const Icons = {
            Zap: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            Activity: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
            Thermometer: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>,
            GaugeIcon: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 14 4-4"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/></svg>,
            Droplet: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22a7 7 0 0 0 7-7c0-2-2-3-2-3l-5-8-5 8s-2 1-2 3a7 7 0 0 0 7 7z"/></svg>,
            Droplets: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.8-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"/><path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"/></svg>,
            LayoutDashboard: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>,
            Settings: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>,
            Bell: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>,
            Menu: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            Calendar: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
        };

        // --- Custom SVG Gauge Component ---
        const Gauge = ({ value, max, title, unit, color, icon: Icon }) => {
            const radius = 80;
            const stroke = 12;
            const normalizedValue = Math.min(Math.max(value, 0), max);
            
            // Animation state for the number
            const [displayValue, setDisplayValue] = useState(0);

            useEffect(() => {
                // Animate value number
                let start = 0;
                const duration = 1500;
                const startTime = performance.now();

                const animate = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    // Ease out quart
                    const ease = 1 - Math.pow(1 - progress, 4);
                    
                    setDisplayValue(start + (value - start) * ease);

                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    }
                };
                requestAnimationFrame(animate);
            }, [value, max]);

            // Calculate rotation for the arc (used in render)
            const percentage = normalizedValue / max;

            return (
                <div className="bg-gray-900 border border-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col items-center relative overflow-hidden group">
                    {/* Header */}
                    <div className="flex items-center justify-between w-full mb-4 z-10">
                        <div className="flex items-center gap-2 text-gray-400 text-sm font-medium uppercase tracking-wider">
                            <Icon size={16} className={color} />
                            <span>{title}</span>
                        </div>
                        <div className="flex items-center gap-1">
                            <div className={`w-2 h-2 rounded-full ${percentage > 0.9 ? 'bg-red-500 animate-pulse' : 'bg-green-500'}`}></div>
                            <span className="text-xs text-gray-500">{percentage > 0.9 ? 'High' : 'Normal'}</span>
                        </div>
                    </div>

                    {/* SVG Gauge */}
                    <div className="relative w-48 h-28 z-10">
                        <svg viewBox="0 0 200 110" className="w-full h-full">
                            {/* Background Arc */}
                            <path 
                                d="M 20 100 A 80 80 0 0 1 180 100"
                                fill="none"
                                stroke="#374151"
                                strokeWidth={stroke}
                                strokeLinecap="round"
                            />
                            
                            {/* Value Arc */}
                            <path 
                                d="M 20 100 A 80 80 0 0 1 180 100"
                                fill="none"
                                stroke={`url(#gradient-${title.replace(/[^a-zA-Z0-9]/g, '')})`}
                                strokeWidth={stroke}
                                strokeLinecap="round"
                                strokeDasharray={`${Math.PI * 80}`}
                                strokeDashoffset={`${Math.PI * 80 * (1 - percentage)}`}
                                className="gauge-path"
                            />

                            {/* Gradient Definition */}
                            <defs>
                                <linearGradient id={`gradient-${title.replace(/[^a-zA-Z0-9]/g, '')}`} x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stopColor={color === 'text-plant-green' ? '#059669' : color === 'text-plant-orange' ? '#d97706' : '#2563eb'} />
                                    <stop offset="100%" stopColor={color === 'text-plant-green' ? '#34d399' : color === 'text-plant-orange' ? '#fbbf24' : '#60a5fa'} />
                                </linearGradient>
                            </defs>
                        </svg>

                        {/* Central Text */}
                        <div className="absolute bottom-0 left-0 right-0 text-center transform translate-y-1">
                            <div className={`text-3xl font-bold ${color} font-mono`}>
                                {displayValue.toFixed(2)}
                            </div>
                            <div className="text-gray-500 text-sm font-medium">{unit}</div>
                        </div>
                    </div>

                    {/* Decorative Glow (Background) */}
                    <div className={`absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-transparent to-${color.replace('text-', '')}/10 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none`}></div>
                </div>
            );
        };

        // --- Main Dashboard Component ---
        const Dashboard = () => {
            // Data from your Excel Sheet
            const metrics = {
                power: [
                    { id: 'p1', title: 'Plant Power (aji20wt)', value: 14.59, max: 20, unit: 'MW', icon: 'Zap' },
                    { id: 'p2', title: 'Power Gen (bji313)', value: 9.02, max: 15, unit: 'MW', icon: 'Zap' },
                    { id: 'p3', title: 'BC101A (bji12a)', value: 5.18, max: 10, unit: 'MW', icon: 'Activity' },
                    { id: 'p4', title: 'BC101B (bji12b)', value: 6.85, max: 10, unit: 'MW', icon: 'Activity' },
                ],
                steam: [
                    { id: 's1', title: 'Steam FLEXSYS', value: 19.16, max: 30, unit: 'TPH', icon: 'Thermometer' },
                    { id: 's2', title: 'Steam to DHT', value: 65.45, max: 100, unit: 'TPH', icon: 'Thermometer' },
                    { id: 's3', title: '4.4 Steam Header', value: 4.26, max: 6, unit: 'kg/cm2', icon: 'GaugeIcon' },
                ],
                flow: [
                    { id: 'f1', title: 'PX Rate', value: 48.09, max: 60, unit: 'TPH', icon: 'Droplet' },
                    { id: 'f2', title: 'ADM 1 Flow', value: 22.31, max: 40, unit: 'TPH', icon: 'Droplets' },
                    { id: 'f3', title: 'ADM 2 Flow', value: 46.96, max: 60, unit: 'TPH', icon: 'Droplets' },
                ]
            };

            const [isSidebarOpen, setSidebarOpen] = useState(false);

            return (
                <div className="flex h-screen overflow-hidden bg-black">
                    
                    {/* Sidebar (Desktop) */}
                    <aside className="hidden md:flex w-64 flex-col border-r border-gray-800 bg-gray-900">
                        <div className="h-16 flex items-center px-6 border-b border-gray-800">
                            <div className="flex items-center gap-2 text-plant-green font-bold text-xl tracking-wider">
                                <Icons.Activity />
                                <span>PLANT<span className="text-white">MONITOR</span></span>
                            </div>
                        </div>
                        <nav className="flex-1 p-4 space-y-2">
                            <a href="#" className="flex items-center gap-3 px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 shadow-sm">
                                <Icons.LayoutDashboard size={20} />
                                <span className="font-medium">Dashboard</span>
                            </a>
                            <a href="#" className="flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded-lg transition-colors">
                                <Icons.Calendar size={20} />
                                <span className="font-medium">History Reports</span>
                            </a>
                            <a href="#" className="flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded-lg transition-colors">
                                <Icons.Settings size={20} />
                                <span className="font-medium">Configuration</span>
                            </a>
                        </nav>
                        <div className="p-4 border-t border-gray-800">
                            <div className="bg-gray-800/50 rounded-lg p-4">
                                <p className="text-xs text-gray-400 mb-1">System Status</p>
                                <div className="flex items-center gap-2">
                                    <span className="relative flex h-2 w-2">
                                      <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                      <span className="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                                    </span>
                                    <span className="text-sm font-medium text-green-400">Operational</span>
                                </div>
                            </div>
                        </div>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col overflow-hidden relative">
                        
                        {/* Header */}
                        <header className="h-16 border-b border-gray-800 bg-gray-900/50 backdrop-blur-md flex items-center justify-between px-6 sticky top-0 z-20">
                            <div className="flex items-center gap-4">
                                <button className="md:hidden text-gray-400" onClick={() => setSidebarOpen(!isSidebarOpen)}>
                                    <Icons.Menu />
                                </button>
                                <div>
                                    <h1 className="text-lg font-semibold text-white">Plant Overview</h1>
                                    <p className="text-xs text-gray-400 hidden sm:block">Last Updated: 11/21/2025 18:00</p>
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className="text-right hidden sm:block">
                                    <div className="text-sm font-medium text-white">Day Shift</div>
                                    <div className="text-xs text-gray-400">06:00 - 18:00</div>
                                </div>
                                <button className="p-2 text-gray-400 hover:text-white relative">
                                    <Icons.Bell size={20} />
                                    <span className="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-gray-900"></span>
                                </button>
                            </div>
                        </header>

                        {/* Dashboard Content */}
                        <div className="flex-1 overflow-y-auto p-6">
                            <div className="max-w-7xl mx-auto space-y-8">

                                {/* Section: Power */}
                                <section>
                                    <div className="flex items-center gap-2 mb-4">
                                        <div className="w-1 h-6 bg-plant-green rounded-full"></div>
                                        <h2 className="text-xl font-bold text-white">Power Generation</h2>
                                    </div>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                        {metrics.power.map(m => (
                                            <Gauge 
                                                key={m.id} 
                                                {...m} 
                                                color="text-plant-green"
                                                icon={Icons[m.icon]}
                                            />
                                        ))}
                                    </div>
                                </section>

                                {/* Section: Steam */}
                                <section>
                                    <div className="flex items-center gap-2 mb-4">
                                        <div className="w-1 h-6 bg-plant-orange rounded-full"></div>
                                        <h2 className="text-xl font-bold text-white">Steam & Pressure</h2>
                                    </div>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {metrics.steam.map(m => (
                                            <Gauge 
                                                key={m.id} 
                                                {...m} 
                                                color="text-plant-orange"
                                                icon={Icons[m.icon]}
                                            />
                                        ))}
                                    </div>
                                </section>

                                {/* Section: Flow */}
                                <section>
                                    <div className="flex items-center gap-2 mb-4">
                                        <div className="w-1 h-6 bg-plant-blue rounded-full"></div>
                                        <h2 className="text-xl font-bold text-white">Flow Rates</h2>
                                    </div>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {metrics.flow.map(m => (
                                            <Gauge 
                                                key={m.id} 
                                                {...m} 
                                                color="text-plant-blue"
                                                icon={Icons[m.icon]}
                                            />
                                        ))}
                                    </div>
                                </section>

                            </div>
                            
                            <footer className="mt-12 text-center text-gray-600 text-sm pb-6">
                                <p>Plant Operations Dashboard • v2.4.1 • Secure Connection</p>
                            </footer>
                        </div>

                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>